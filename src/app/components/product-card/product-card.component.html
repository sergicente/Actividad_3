<section >
    <div class="position-absolute top-0 end-0 cerrar cursor" (click)="cerrar()"><i style="font-size: 25px; color:grey;"
        class="fa-solid fa-xmark"></i></div>
    <div class="p-5">
        @if(!edicionActiva){

            <img
            [src]="productoSeleccionado.image || '/sin_imagen.jpg'"
            style="margin:auto; display:block; mix-blend-mode: multiply!important;"
            class="img-fluid rounded-4 remove-bg"
            alt="{{productoEditable.name || 'Vista previa de la imagen'}}"
          />
        <div class="mt-4">
            <p style="font-size: 28px;">{{productoSeleccionado.name}}</p>
            <p style="font-size: 24px;">{{productoSeleccionado.price}} €</p>
            <p class="mt-3">{{productoSeleccionado.description}}</p>
            <ul class="list-group list-group-flush  mt-3 rounded-4">
                <li class="small text-muted list-group-item"><strong>Categoría:</strong> <br>
                    {{productoSeleccionado.category}}</li>

                <li class="small text-muted list-group-item"><strong>Activo:</strong><br>
                    @if(productoSeleccionado.active){
                    Sí}@else{
                    No
                    }</li>
                <li class="small text-muted list-group-item"><strong>Id:</strong><br>
                    {{productoSeleccionado._id}}</li>
            </ul>
            <div class="d-flex mt-4 justify-content-between align-items-center">
                <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn rounded-3 btn-sm btn-primary shadow-sm"
                    (click)="editarProducto()">Editar</button>
                <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn rounded-3 btn-sm btn-danger shadow-sm"
                    (click)="borrarProducto.emit(productoSeleccionado._id)">Eliminar</button>
            </div>
        </div>

        }@else {
            <img
            [src]="productoEditable.image || '/sin_imagen.jpg'"
            style="margin:auto; display:block; mix-blend-mode: multiply!important;"
            class="img-fluid rounded-4 remove-bg"
            alt="{{productoEditable.name || 'Vista previa de la imagen'}}"
          />
        <div class="mt-4">
            <strong>Nombre:</strong>
            <input type="text" class="form-control mb-3 rounded-3 border-1 " name="" id="" [(ngModel)]="productoEditable.name">
            <strong>Descripción:</strong>
            <textarea class="form-control mb-3 rounded-3 border-1 " rows="3" [(ngModel)]="productoEditable.description">
                            </textarea>
            <strong>Precio:</strong>
            <input type="number" class="form-control mb-3 rounded-3 border-1 " name="" id="" [(ngModel)]="productoEditable.price">

            <strong>Categoría:</strong>
            <select id="category" class="form-select mb-3 rounded-3 border-1 " [(ngModel)]="productoEditable.category"
                (change)="seleccionarCategoria($event)">
                <option value="hombre">Hombre</option>
                <option value="mujer">Mujer</option>
                <option value="niño">Niño</option>
            </select>

            <strong>Imagen:</strong>
            <input type="text" class="form-control mb-3 rounded-3 border-1 " name="" id="" [(ngModel)]="productoEditable.image">
            <strong>Estado:</strong><br>
            <div class="form-switch">
                <input class="form-check-input me-2" type="checkbox" id="activos" [(ngModel)]="productoEditable.active"
                    name="activo" /> <span class="me-3">Activo</span>
            </div>
                <div class="d-flex mt-4 justify-content-between align-items-center">
                    <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn rounded-3 btn-sm btn-danger shadow-sm"
                        (click)="cancelar()">Cancelar</button>
                    <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn rounded-3 btn-sm btn-success shadow-sm"
                        [disabled]="!validarFormulario()" (click)="guardarProducto()">Guardar Cambios</button>
                </div>

        </div>

        }
    </div>
</section>